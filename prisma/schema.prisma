// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model Posto {
  idPosto  String  @id @default(uuid())
  cnpj     String  @unique
  endereco String
  nome     String
  imgBg    String?

  contem   Posto_Contem_Tipo_combustivel[]
  abastece Posto_Abastecer_Cliente[]



  gerente          Gerente @relation(fields: [gerenteIdGerente], references: [idGerente])
  gerenteIdGerente String  @unique

  @@map("posto")
}

model Tipo_combustivel {
  idTipo String @id @default(uuid())
  nome   String @unique
  valor  Float

  contido Posto_Contem_Tipo_combustivel[]

  @@map("tipo")
}

model Gerente {
  idGerente String  @id @default(uuid())
  cpf       String  @unique
  login     String  @unique
  senha     String
  nome      String
  token     String?


  postos Posto?

  postoIdPosto String?
  @@map("gerente")
}

model Cliente {
  idCliente String @id @default(uuid())
  cpf       String @unique
  nome      String

  abastecido Posto_Abastecer_Cliente[]

  @@map("cliente")
}

model Posto_Contem_Tipo_combustivel {
  posto              Posto            @relation(fields: [postoId], references: [idPosto])
  postoId            String
  tipo_combustivel   Tipo_combustivel @relation(fields: [tipo_combustivelId], references: [idTipo])
  tipo_combustivelId String

  @@id([postoId, tipo_combustivelId])
}

model Posto_Abastecer_Cliente {
  posto     Posto    @relation(fields: [postoId], references: [idPosto])
  postoId   String
  cliente   Cliente  @relation(fields: [clienteId], references: [idCliente])
  clienteId String
  valor     Float
  data      DateTime

  @@id([postoId, clienteId])
}
